Программа работает в итеративном режиме: она не спрашивает готовый ответ у провайдера, а самостоятельно опрашивает мировую систему DNS.

Программа берет IP-адрес одного из корневых серверов Интернета
С помощью сокетов (UDP) отправляется бинарный пакет с вопросом.

: Программа читает ответ и смотрит, что пришло:

Если пришел конечный IP — выводим его и завершаем работу.

Если пришла ссылка на другой сервер (NS-запись) — программа ищет его IP-адрес в секции дополнительных данных (Glue Record), переключается на этот новый сервер и повторяет цикл.

В ходе работы выяснилось, что программа работает верно с точки зрения логики кода, но иногда не может получить результат. Это происходит из-за внешних факторов, а не ошибок в алгоритме.
Мне кажется, что мой домашний вай-фай блокирует 53 порт.